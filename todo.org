#+TITLE: Crux 'Site' TODO list

* Holidays
** DONE Query our holidays back

** DONE Holidays should be 'owned' by the individual taking the holiday

** DONE Count the number of days an individual has taken off in total

** DONE Segment the count by year

** DONE Make web server dependent upon Crux node

** DONE Add a holiday 'relation' to the Crux database

** DONE Get the holiday relation in response to a GET on /holidays

** DONE Generate the HTML of a form to fill out

** TODO Fill out the form and send back to the server

** TODO Support JSON & HTML

** TODO Use the relation, and the form fields, to submit a holiday in Crux

** TODO Calculate the number of days a person has taken

** TODO [#B] Don't count public holidays and weekends against the holiday 'length'
  DEADLINE: <2020-10-02 Fri>

** TODO Use the Crux Console to display holidays by user

** TODO Generate an iCalendar feed to show holidays in JUXT's Google Calendar

* PBAC


** TODO Policies
And rules inherit their attributes
Policies can match targets

** TODO Rule-combining algorithms

** TODO Policy-set, policy-combining algorithms

** TODO Ingestion

** TODO OpenAPI PUT

*** TODO Routing

*** TODO Crux 'owner' group

** Snaglist

*** TODO Why does the first PUT of /user-groups/{id} get a Vary header?

*** TODO Why do subsequent puts of /user-groups/{id} have a nil old-representation?

*** TODO put-representation: Dispatch on some aspect of the resource, not the representation content-type
Multiple ways of handling application/json

*** TODO Why does this not return json by default?
curl -i localhost:8082/_crux/users/crux/admin -K cruxadmin
Pick has a way to weight preferred responses, we should use it.



* <2021-02-13 Sat>

** DONE Bootstrap in pass first

** TODO Add a policy that a template can be read locally - needs to come via metadata - so read webdav to that

Propset?


* <2021-02-18 Thu>

** TODO Home page
SCHEDULED: <2021-02-18 Thu 23:00>

*** DONE Add resource on reset

*** DONE Provide a welcome home-page

*** TODO Redirect to /index.html
SCHEDULED: <2021-02-18 Thu 23:00>

*** TODO Content

Links to REST, etc.

** TODO Login page
SCHEDULED: <2021-03-11 Thu 23:30>

** TODO Promote Pass API

** TODO Deployment

home.juxt.site - JUXT intranet and test site for site
info.juxt.site - information portal
demo.juxt.site - site demo
